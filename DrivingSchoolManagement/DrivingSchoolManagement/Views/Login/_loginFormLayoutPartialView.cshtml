@model DrivingSchoolDb.UserCredential
@using System.Drawing;
@{
    Layout = null;
}

@using (Ajax.BeginForm("CheckProvidedCredentials", "Login", new AjaxOptions { HttpMethod = "POST" }))
{
    @Html.DevExpress().FormLayout(settings =>
{
    settings.Name = "loginFormLayout";
    settings.AlignItemCaptionsInAllGroups = true;

    settings.Items.AddGroupItem(g =>
    {
        g.Caption = "Formularz logowania";
        g.ColCount = 1;
        g.GroupBoxStyle.Caption.ForeColor = Color.White;
        g.GroupBoxDecoration = GroupBoxDecoration.HeadingLine;
        g.Items.Add(m => m.Login, i =>
        {
            i.Caption = "Login";
            i.CaptionStyle.ForeColor = Color.White;
            i.NestedExtensionSettings.Width = Unit.Percentage(100);
            i.RequiredMarkDisplayMode = FieldRequiredMarkMode.Required;
            i.NestedExtensionType = FormLayoutNestedExtensionItemType.TextBox;
            i.NestedExtension().TextBox(t =>
            {
                t.Properties.ValidationSettings.RequiredField.IsRequired = true;
                t.Properties.ValidationSettings.Display = Display.Dynamic;
                t.Properties.NullDisplayText = "imie.nazwisko";
            });
        });
        g.Items.Add(m => m.Password, i =>
        {
            i.Caption = "Hasło";

            i.NestedExtensionSettings.Width = Unit.Percentage(100);
            i.RequiredMarkDisplayMode = FieldRequiredMarkMode.Required;
            i.NestedExtensionType = FormLayoutNestedExtensionItemType.TextBox;
            i.NestedExtension().TextBox(t =>
            {
                t.Properties.ValidationSettings.RequiredField.IsRequired = true;
                t.Properties.ValidationSettings.Display = Display.Dynamic;
                t.Properties.Password = true;
                t.Properties.NullDisplayText = "Domyślnie PESEL";
            });
        });
        g.Items.Add(i =>
        {
            i.ShowCaption = DefaultBoolean.False;
            i.HorizontalAlign = FormLayoutHorizontalAlign.Right;
            i.Paddings.PaddingBottom = 20;
            i.NestedExtension().Button(s =>
            {
                s.Name = "applyButton";
                s.Text = "Add Record";
                s.UseSubmitBehavior = true;
                s.ClientSideEvents.Click += "function (s, e) { if(ASPxClientEdit.AreEditorsValid()){HidePopup();}}";
            });
        });
    });
}).GetHtml()
}

